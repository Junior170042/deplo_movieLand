import{j as s,L as x,r as l,a as d}from"./index-Co0geErw.js";import{I as h}from"./variables_env-BLy4R4ii.js";const m=({movies:t,marginTop:r})=>{const a=e=>e==="en"?"English":e==="es"?"Español":e==="fr"?"Francés":e,n=e=>s.jsx("div",{className:"col-sm-4 ",style:{marginTop:r},children:s.jsxs("div",{className:"card mx-2 my-2 cards",children:[s.jsx("img",{className:"card-img-top",src:h+e.poster_path,alt:e.title}),s.jsxs("div",{className:"card-body text-center",children:[s.jsx("h4",{className:"card-title titles",children:e.title}),s.jsxs("p",{className:"card-text years",children:["Año : ",s.jsx("span",{children:e.release_date.substring(0,4)})]}),s.jsxs("p",{className:"card-text years",children:["Idioma : ",s.jsx("span",{children:a(e.original_language)})]}),s.jsxs(x,{to:`/detalles/${e.id}`,className:"btn btn-primary btn-play",children:["Detalles ",s.jsx("i",{className:"fa fa-arrow-right"})]})]})]})},e.id);return s.jsx(s.Fragment,{children:t.map(e=>n(e))})},u=({title:t})=>s.jsx("h1",{className:"titulo text-center",children:t}),g=({_URL:t})=>{const[r,a]=l.useState([]),[n,e]=l.useState(!1);return l.useEffect(()=>{let c=!0;return(async()=>{e(!0);try{const i=await(await fetch(t)).json();c&&i.results?(a(i.results),e(!1)):c&&(console.error("API Error:",i),a([]),e(!1))}catch(o){console.error("Error fetching movies:",o),c&&e(!1)}})(),()=>{c=!1}},[t]),s.jsxs("div",{className:"row mx-auto",children:[r.length!==0&&n?s.jsx(d,{}):s.jsx(m,{movies:r,marginTop:"60px"}),r.length===0&&s.jsx(s.Fragment,{children:n?s.jsx(d,{}):s.jsx(u,{title:"No se encuentra peliculas"})})]})};export{g as G};
